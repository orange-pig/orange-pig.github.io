<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>若烟阁</title><link>https://orange-pig.github.io/blog/</link><description>Recent content on 若烟阁</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Tue, 14 Oct 2025 16:45:10 +0800</lastBuildDate><atom:link href="https://orange-pig.github.io/blog/index.xml" rel="self" type="application/rss+xml"/><item><title>Mockjs 实践用法</title><link>https://orange-pig.github.io/blog/posts/mockjs-%E5%AE%9E%E8%B7%B5%E7%94%A8%E6%B3%95/</link><pubDate>Tue, 14 Oct 2025 16:45:10 +0800</pubDate><guid>https://orange-pig.github.io/blog/posts/mockjs-%E5%AE%9E%E8%B7%B5%E7%94%A8%E6%B3%95/</guid><description>&lt;p&gt;网上教程很多，但大多都是官网的照搬和堆砌，作者认为对于使用者来说，往往看了教程后，所学却不足以解决实际中的各种问题。所以本文介绍Mockjs的一些实践的用法，希望能帮助读者解决实际问题。&lt;/p&gt;
&lt;h2 id="安装和入门"&gt;安装和入门&lt;/h2&gt;
&lt;p&gt;请认真阅读&lt;a href="https://github.com/nuysoft/Mock/wiki"&gt;官方教程&lt;/a&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 Tips: 官方教程连贯度不是很友好，可结合参考 &lt;a href="https://juejin.cn/post/6953199521031520292"&gt;博客1&lt;/a&gt; &lt;a href="https://juejin.cn/post/7054020390363856910"&gt;博客2&lt;/a&gt; &lt;a href="https://juejin.cn/post/7068472129729085470"&gt;博客3&lt;/a&gt;，差异处以官方教程为准&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id="设置"&gt;设置&lt;/h2&gt;
&lt;p&gt;常规情况下设置Mock接口的超时时间范围，模拟动态的网络环境。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Mock.setup({
 timeout: &amp;#39;100-900&amp;#39;,
});
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="get查询参数匹配"&gt;Get查询参数匹配&lt;/h2&gt;
&lt;p&gt;在使用Get时，实际情况往往是有参数的。Mock的url参数如果直接指定字符串则时直接匹配，带了查询参数的URI则会被认为不匹配。所以Mock支持第一个参数传入一个RegExp对象进行正则匹配，对于常规情况只需要在URL后加上&lt;code&gt;.*&lt;/code&gt;即可。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Mock.mock(RegExp(&amp;#34;/helloword.*&amp;#34;), &amp;#39;get&amp;#39;, req =&amp;gt; {
 return req.url;
});
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="两大概念"&gt;两大概念&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;数据模板&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;数据模板是一个object对象，其中可以定义数据的模板结构，每个属性由：属性名、属性生成规则、属性值组成。&lt;/p&gt;
&lt;p&gt;属性值可以为具体值作为默认值，也可为候选列表作为生成规则的数据来源，也可以为带数据占位符的字符串。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Mock.mock(&amp;#34;/helloworld&amp;#34;, &amp;#39;post&amp;#39;, {
 &amp;#34;id|+1&amp;#34;: 1,
 &amp;#34;name&amp;#34;: &amp;#34;Jack&amp;#34;,
 &amp;#34;teacher|1&amp;#34;: [&amp;#34;Jone&amp;#34;, &amp;#34;Sam&amp;#34;, &amp;#34;Sherry&amp;#34;],
 &amp;#34;brithday&amp;#34;: &amp;#34;@date&amp;#34;,
 &amp;#34;age|20-35&amp;#34;: 20,
});
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;数据占位符&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;数据占位符&lt;code&gt;@&lt;/code&gt;在属性的值中使用，用于访问模板中其他属性的生成值，或调用生成函数。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Mock.mock(&amp;#34;/helloworld&amp;#34;, &amp;#39;post&amp;#39;, {
 &amp;#34;message&amp;#34;: &amp;#34;hell0 @name&amp;#34;,
});
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="参数模板"&gt;参数模板&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Mock的随机函数使用&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Mock提供的&lt;a href="https://github.com/nuysoft/Mock/wiki/Mock.Random"&gt;随机函数&lt;/a&gt;很多，常用的比如：cname、datetime、email、guid等等。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Mock.mock(&amp;#34;/userinfo&amp;#34;, &amp;#39;get&amp;#39;, {
 &amp;#34;createTime&amp;#34;: &amp;#34;@datetime&amp;#34;,
 &amp;#34;name&amp;#34;: &amp;#34;@cname&amp;#34;, // 随机中文名
 &amp;#34;email&amp;#34;: &amp;#34;@email&amp;#34;,
});
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;自定义的随机函数使用&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;举个简单的例子如下：&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;const address = [&amp;#34;张家界&amp;#34;, &amp;#34;九寨沟&amp;#34;, &amp;#34;泰山&amp;#34;, &amp;#34;蓬莱&amp;#34;];

Mock.Random.extend({
 // 自定义随机函数 Address
 Address: function () {
 return this.pick(address)
 }
})

Mock.mock(&amp;#34;/helloworld&amp;#34;, &amp;#39;post&amp;#39;, {
 &amp;#34;addr&amp;#34;: &amp;#34;@Address&amp;#34;, // 使用占位符访问随机函数
 &amp;#34;addr|1&amp;#34;: address, // 与前一行同样的效果，更加简单
});
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;简单的随机需求使用属性生成规则完全就可以搞定，没必要些自定义随机函数这么麻烦。&lt;/p&gt;</description></item><item><title>你好！博客！</title><link>https://orange-pig.github.io/blog/posts/my-first-post/</link><pubDate>Tue, 14 Oct 2025 10:56:05 +0800</pubDate><guid>https://orange-pig.github.io/blog/posts/my-first-post/</guid><description>&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This is &lt;strong&gt;bold&lt;/strong&gt; text, and this is &lt;em&gt;emphasized&lt;/em&gt; text.&lt;/p&gt;
&lt;p&gt;Visit the &lt;a href="https://gohugo.io"&gt;Hugo&lt;/a&gt; website!&lt;/p&gt;</description></item></channel></rss>